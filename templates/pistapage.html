{% extends 'layout.html' %}

{% block body %}
    <head>
        <!-- <meta http-equiv="refresh" content="30"> -->
        <link href="{{ url_for('static', filename='css/main.css')}}" rel="stylesheet" type="text/css" media="all">
        <!-- <script type="text/javascript" src="{{ url_for('static', filename='js/main.js')}}"></script> -->
        <style>
          .speech {border: 1px solid rgb(255, 255, 255); width: 300px; padding: 0; margin: 0}
          .speech input {border: 0; width: 240px; display: inline-block; height: 30px;}
          .speech img {float: right; width: 40px }
        </style>
</head>
<body onload="changeImage()">

<!-- Header -->
<div class="header">
  <h1>Pista Adulteration</h1>
  <p>Choose image from the below set</p>
</div>
<!--<label> Upload an image</label>-->
<!--                  <div class="input-group">-->
<!--                      <span class="input-group-btn">-->
<!--                          <span class="btn btn-default btn-file">-->
<!--                            Browse...<input type="file" id="imgInp" id="pic" style="width:100%" onclick="getImage(this)">-->
<!--                            <div>-->
                

<!-- Photo Grid -->
<div class="row"> 
  <div class="column">
    <img src="{{ url_for('static', filename='images/1.jpg')}}" id="img1" style="width:100%; height: 300px;" onclick="getImage(this)">
    <img src="{{ url_for('static', filename='images/2.jpg')}}" id="img2" style="width:100%; height: 300px;"  onclick="getImage(this)">
  </div>
  <div class="column">
    <img src="{{ url_for('static', filename='images/3.jpg')}}" id="img3" style="width:100%; height: 300px;"  onclick="getImage(this)">
    <img src="{{ url_for('static', filename='images/4.jpg')}}" id="img4" style="width:100%; height: 300px;"  onclick="getImage(this)">
  </div>  
  <div class="column">
    <img src="{{ url_for('static', filename='images/5.jpg')}}" id="img5" style="width:100%; height: 300px;"  onclick="getImage(this)">
    <img src="{{ url_for('static', filename='images/6.jpg')}}" id="img6" style="width:100%; height: 300px;" onclick="getImage(this)">
  </div>
  <div class="column">
    <img src="{{ url_for('static', filename='images/7.jpg')}}" id="img7" style="width:100%; height: 300px;"  onclick="getImage(this)">
    <img src="{{ url_for('static', filename='images/8.jpg')}}" id="img8" style="width:100%; height: 300px;"  onclick="getImage(this)">
  </div>
</div>

<!-- visual Questioning and Answer -->
<div class="row"> 
    <div class="column">
      <img src="{{inputImage}}" id="name"  name="image">
    </div>
    <div class="column">
      {% if output_image %}
      <img src="{{output_image}}" id="name"  name="image">
      {% endif %}
    </div>
    <div class="column">
      <form action="{{url_for('getData')}}" method="post" >
        <input type="text" name="file" style="display: none;" id="filename">
     <br>
    <input type="submit" value="Submit">
  </form>
  <br><br><br><br>
  <a href="/LiveStream" class="btn btn-success" style="margin-left: 80px;"> Live Streaming </a>
    </div>
    </div> 

  </div>  
</div>

<script>
  function changeImage(){
    var images = 
    ["{{ url_for('static', filename='images/1.jpg')}}", "{{ url_for('static', filename='images/2.jpg')}}", 
    "{{ url_for('static', filename='images/3.jpg')}}", "{{ url_for('static', filename='images/4.jpg')}}", 
    "{{ url_for('static', filename='images/5.jpg')}}", "{{ url_for('static', filename='images/6.jpg')}}", 
    "{{ url_for('static', filename='images/7.jpg')}}", "{{ url_for('static', filename='images/8.jpg')}}",
    "{{ url_for('static', filename='images/9.jpg')}}", "{{ url_for('static', filename='images/10.jpg')}}", 
    "{{ url_for('static', filename='images/11.jpg')}}", "{{ url_for('static', filename='images/12.jpg')}}",
    "{{ url_for('static', filename='images/13.jpg')}}", "{{ url_for('static', filename='images/14.jpg')}}",
    "{{ url_for('static', filename='images/15.jpg')}}", "{{ url_for('static', filename='images/16.jpg')}}",
    "{{ url_for('static', filename='images/18.jpg')}}", "{{ url_for('static', filename='images/17.jpg')}}",
    

    ]
    
    var size = images.length;
    for(let i=1;i<9;i++){
      var n = Math.floor(size*Math.random())
      document.getElementById("img"+[i]).src = images[n];
  }
  }
  function getImage(element){
      var name = element.src;
      document.getElementById("name").src = name;
      document.getElementById("filename").value = name;
      document.getElementById("name").scrollIntoView(true);
    }

    function startDictation() {
  
  if (window.hasOwnProperty('webkitSpeechRecognition')) {

    var recognition = new webkitSpeechRecognition();

    recognition.continuous = false;
    recognition.interimResults = false;

    recognition.lang = "en-US";
    recognition.start();

    recognition.onresult = function(e) {
      document.getElementById('transcript').value
                               = e.results[0][0].transcript;
      recognition.stop();
    //   document.getElementById('labnol').submit();
    };

    recognition.onerror = function(e) {
      recognition.stop();
    }

  }
}
  </script>


</body>
</html>
{% endblock %}